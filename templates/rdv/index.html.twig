{% extends 'layout/base_user.html.twig' %}

{% block title %}MyPets | Mes rendez-vous{% endblock %}

{% block body %}
    <h1 class="text-center">Rendez-vous</h1>

    <a class="btn btn-success rounded pull-right mb-2 btn-sm" href="{{ path('rdv_new') }}"><i class="fas fa-plus mr-1"></i>Nouveau</a>

    <table class="table td-align-middle">
        <thead>
        <tr class="text-center">
            <th>Date</th>
            <th>Animal</th>
            <th>Vétérinaire</th>
            <th>actions</th>
        </tr>
        </thead>
        <tbody>
        {% for rdv in rdvs %}
            <tr>
                <td>{{ rdv.date ? rdv.date|date('d/m/Y \\à H\\hi') : '' }}</td>
                <td>
                    <div class="d-flex justify-content-center align-items-center">
                        {% if rdv.animal.photo %}
                            <img src="{{ asset(dir_avatar_animal ~ rdv.animal.photo) }}" alt="{{ '<i class=\'fas fa-paw\'></i>'|raw }}" class="rounded-pill mr-2" height="50px">
                        {% else %}
                            <span class="logo-user__default ml-2 mr-2">
                                <i class="fas fa-paw"></i>
                            </span>
                        {% endif %}
                        <div>
                            {{ rdv.animal.nom }}
                        </div>
                    </div>
                </td>
                <td>
                    <div class="d-flex justify-content-center align-items-center">
                        {% if rdv.veterinaire.avatar %}
                            <img src="{{ asset(dir_avatar_user ~ rdv.veterinaire.avatar) }}" alt="{{ '<i class=\'fas fa-user-circle\'></i>'|raw }}" class="rounded-pill mr-2">
                        {% else %}
                            <span class="logo-user__default ml-2 mr-2">
                                <i class="fas fa-user-circle"></i>
                            </span>
                        {% endif %}
                        <div>
                            {{ rdv.veterinaire.nomPrenom }}
                        </div>
                    </div>
                </td>
                <td class="text-center">
                    <a class="btn btn-sm btn-primary rounded-pill" href="{{ path('rdv_show', {'id': rdv.id}) }}"><i class="fas fa-eye"></i></a>
                    <a class="btn btn-sm btn-warning rounded-pill" href="{{ path('rdv_edit', {'id': rdv.id}) }}"><i class="fas fa-pen"></i></a>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="6">no records found</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

{% endblock %}
